# Called from code after history generation
# Empty scope
ek_on_game_start = {
	effect = {
		### Create a list with every culture. Because Paradox has every_faith, but not every_culture :(
		# Akaviri
		save_culture_in_global_list = { CULTURE = culture:hakoshae }
		save_culture_in_global_list = { CULTURE = culture:jaegi }
		save_culture_in_global_list = { CULTURE = culture:tsaesci }
		# Aldmeris
		save_culture_in_global_list = { CULTURE = culture:alinor }
		save_culture_in_global_list = { CULTURE = culture:auridon }
		save_culture_in_global_list = { CULTURE = culture:balfiera }
		# Ayleid
		save_culture_in_global_list = { CULTURE = culture:ayleid }
		save_culture_in_global_list = { CULTURE = culture:barsaebic }
		save_culture_in_global_list = { CULTURE = culture:hectahamic }
		# Bosmeris
		save_culture_in_global_list = { CULTURE = culture:bosmer }
		save_culture_in_global_list = { CULTURE = culture:cyrobosmer }
		save_culture_in_global_list = { CULTURE = culture:arenthian }
		# Breton
		save_culture_in_global_list = { CULTURE = culture:glenumbran }
		save_culture_in_global_list = { CULTURE = culture:northmen }
		save_culture_in_global_list = { CULTURE = culture:iliac }
		save_culture_in_global_list = { CULTURE = culture:bjoule }
		# Chimeris
		save_culture_in_global_list = { CULTURE = culture:chimer }
		save_culture_in_global_list = { CULTURE = culture:chimeriquey }
		save_culture_in_global_list = { CULTURE = culture:cantemiric }
		# Dunmeris
		save_culture_in_global_list = { CULTURE = culture:dunmer }
		save_culture_in_global_list = { CULTURE = culture:ashlander }
		# Goblinken
		save_culture_in_global_list = { CULTURE = culture:goblin }
		save_culture_in_global_list = { CULTURE = culture:riekling }
		# Imperial
		save_culture_in_global_list = { CULTURE = culture:colovian }
		save_culture_in_global_list = { CULTURE = culture:nibenese }
		save_culture_in_global_list = { CULTURE = culture:blackwood }
		save_culture_in_global_list = { CULTURE = culture:imperial }
		# Khajiiti
		save_culture_in_global_list = { CULTURE = culture:pellitinian }
		save_culture_in_global_list = { CULTURE = culture:anequinan }
		# Nedic
		save_culture_in_global_list = { CULTURE = culture:reachfolk }
		save_culture_in_global_list = { CULTURE = culture:kothringi }
		save_culture_in_global_list = { CULTURE = culture:galen }
		save_culture_in_global_list = { CULTURE = culture:keptu }
		save_culture_in_global_list = { CULTURE = culture:duraki }
		save_culture_in_global_list = { CULTURE = culture:kreath }
		save_culture_in_global_list = { CULTURE = culture:perena }
		save_culture_in_global_list = { CULTURE = culture:gemha }
		save_culture_in_global_list = { CULTURE = culture:nede }
		# Nordic
		save_culture_in_global_list = { CULTURE = culture:eastmarcher }
		save_culture_in_global_list = { CULTURE = culture:westmarcher }
		save_culture_in_global_list = { CULTURE = culture:cyro_nord }
		save_culture_in_global_list = { CULTURE = culture:atmoran }
		save_culture_in_global_list = { CULTURE = culture:skaal }
		# Orsimer
		save_culture_in_global_list = { CULTURE = culture:mountain_orc }
		save_culture_in_global_list = { CULTURE = culture:iron_orc }
		save_culture_in_global_list = { CULTURE = culture:wood_orc }
		# Yoku
		save_culture_in_global_list = { CULTURE = culture:yokudan }
		save_culture_in_global_list = { CULTURE = culture:forebear }
		save_culture_in_global_list = { CULTURE = culture:crown }
		save_culture_in_global_list = { CULTURE = culture:lhotunic }
		save_culture_in_global_list = { CULTURE = culture:alikr }
		save_culture_in_global_list = { CULTURE = culture:abecean }
		save_culture_in_global_list = { CULTURE = culture:horsemen }
		
		### Set which cultures are alive (have some territory)
		every_county = {
			culture = { save_scope_as = culture_to_save }
			add_to_global_variable_list = {
				name = culture_is_alive
				target = scope:culture_to_save
			}
		}
		
		### Nativity innovations
		## Build the list
		## High Rock
		# Glenumbra
		set_culture_native_to = { REGION = glenumbra CULTURE = culture:glenumbran }
		set_culture_native_to = { REGION = glenumbra CULTURE = culture:balfiera }
		set_culture_native_to = { REGION = glenumbra CULTURE = culture:galen }
		# Rivenspire
		set_culture_native_to = { REGION = rivenspire CULTURE = culture:northmen }
		set_culture_native_to = { REGION = rivenspire CULTURE = culture:galen }
		# Stormhaven
		set_culture_native_to = { REGION = stormhaven CULTURE = culture:iliac }
		set_culture_native_to = { REGION = stormhaven CULTURE = culture:galen }
		# Wrothgar
		set_culture_native_to = { REGION = greater_wrothgar CULTURE = culture:northmen }
		set_culture_native_to = { REGION = greater_wrothgar CULTURE = culture:reachfolk }
		set_culture_native_to = { REGION = greater_wrothgar CULTURE = culture:mountain_orc }
		# Bangkorai
		set_culture_native_to = { REGION = bangkorai CULTURE = culture:bjoule }
		set_culture_native_to = { REGION = bangkorai CULTURE = culture:duraki }
		## Hammerfell
		# Craglorn
		set_culture_native_to = { REGION = craglorn CULTURE = culture:duraki }
		set_culture_native_to = { REGION = craglorn CULTURE = culture:iron_orc }
		# Abecee
		set_culture_native_to = { REGION = abecee CULTURE = culture:abecean }
		## Cyrodiil
		# Colovia
		set_culture_native_to = { REGION = colovia CULTURE = culture:colovian }
		set_culture_native_to = { REGION = colovia CULTURE = culture:cyro_nord }
		set_culture_native_to = { REGION = colovia CULTURE = culture:perena }
		# Heartlands
		set_culture_native_to = { REGION = heartlands CULTURE = culture:imperial }
		set_culture_native_to = { REGION = heartlands CULTURE = culture:ayleid }
		# Nibenay
		set_culture_native_to = { REGION = nibenay CULTURE = culture:nibenese }
		## Skyrim
		# Karth
		set_culture_native_to = { REGION = karth CULTURE = culture:reachfolk }
		# West Ghost
		set_culture_native_to = { REGION = west_ghost CULTURE = culture:westmarcher }
		# White River
		set_culture_native_to = { REGION = white_river CULTURE = culture:westmarcher }
		set_culture_native_to = { REGION = white_river CULTURE = culture:kreath }
		# East Ghost
		set_culture_native_to = { REGION = east_ghost CULTURE = culture:eastmarcher }
		# Dark Water
		set_culture_native_to = { REGION = dark_water CULTURE = culture:eastmarcher }
		# Solstheim
		set_culture_native_to = { REGION = solstheim CULTURE = culture:skaal }
		set_culture_native_to = { REGION = solstheim CULTURE = culture:riekling }
		## Yokuda
		# Akos
		set_culture_native_to = { REGION = akos CULTURE = culture:horsemen }
		# Kasaz Yath
		set_culture_native_to = { REGION = kasaz_yath CULTURE = culture:yokudan }
		# Ravan
		set_culture_native_to = { REGION = ravan CULTURE = culture:yokudan }
		
		### Some religious tweaks
		every_religion_global = {
			every_faith = {
				## DOCTRINE_GENDER
				if = {
					limit = {
						OR = {
							has_doctrine = doctrine_pantheon_daedra
							# Prince specific
							has_doctrine = doctrine_pantheon_azura
							has_doctrine = doctrine_pantheon_boethiah
							has_doctrine = doctrine_pantheon_clavicus
							has_doctrine = doctrine_pantheon_hermaeus
							has_doctrine = doctrine_pantheon_hircine
							has_doctrine = doctrine_pantheon_malacath
							has_doctrine = doctrine_pantheon_mehrunes
							has_doctrine = doctrine_pantheon_mephala
							has_doctrine = doctrine_pantheon_meridia
							has_doctrine = doctrine_pantheon_molag
							has_doctrine = doctrine_pantheon_namira
							has_doctrine = doctrine_pantheon_nocturnal
							has_doctrine = doctrine_pantheon_peryite
							has_doctrine = doctrine_pantheon_sanguine
							has_doctrine = doctrine_pantheon_sheogorath
							has_doctrine = doctrine_pantheon_vaermina
							# Special group of princes
							has_doctrine = doctrine_pantheon_good_daedra
							has_doctrine = doctrine_pantheon_bad_daedra
						}
						NOT = { has_doctrine = special_doctrine_daedra_worshipper }
					}
					add_doctrine = special_doctrine_daedra_worshipper
				}
			}
		}
		
		### Innovations
		culture:alinor = { add_innovation = innovation_moonstone_armor }
		culture:auridon = { add_innovation = innovation_moonstone_armor }
		culture:balfiera = { add_innovation = innovation_moonstone_armor }
		
		culture:imperial = { add_innovation = innovation_seat_of_empires }
		culture:nibenese = { add_innovation = innovation_seat_of_empires }
		culture:colovian = { add_innovation = innovation_seat_of_empires }
		
		#############
		# BOOKMARKS #
		#############
		
		### 2E440 BOOKMARK ###
		## Assassination of Logrolf, the High King of Skyrim, by a lowly noble on the order of Svartr
		# The lowly noble then joined Western Skyrim and received lands and a wife for his services
		character:cursebraid_1000 = { save_scope_as = hk_svartr }
		character:bannertorn_100 = { save_scope_as = logrolf_murderer }
		character:flamehair_999 = { save_scope_as = hk_logrolf }
		
		if = {
			limit = {
				scope:logrolf_murderer = { is_alive = yes }
				scope:hk_svartr = { is_alive = yes }
			}
			
			# The noble first tried, without success, to kill Logrolf... Svartr knows it, and used the hook to force the noble to *again* try to kill his liege. Once the murder was successful, the two strong hooks cancelled each other out.
		
			# Svartr knows the murder attempt...
			scope:logrolf_murderer = {
				random_secret = {
					limit = {
						secret_type = secret_murder_attempt
						NOT = { is_known_by = scope:hk_svartr }
					}
					save_scope_as = logrolf_murder_attempt_secret
					
					# Svartr knows
					reveal_to = scope:hk_svartr
					# Used it to force the agent to kill his liege
					scope:hk_svartr = { blackmail_target_with_secret_effect = { SECRET = scope:logrolf_murder_attempt_secret TARGET = scope:logrolf_murderer } }
					# And then the two hooks cancelled each other
					scope:hk_svartr = { remove_hook = { target = scope:logrolf_murderer } }
				}
			}
		
			# And the lowly noble knows who killed Logrolf...
			scope:hk_svartr = {
				random_secret = {
					limit = {
						secret_type = secret_murder
						NOT = { is_known_by = scope:logrolf_murderer }
					}
					save_scope_as = logrolf_murder_proper_secret
					
					reveal_to = scope:logrolf_murderer
					# Mainly so Svartr can't be blackmailed *again*
					# The safe passage to Western Skyrim and the rewards can be counted as "blackmail"
					scope:logrolf_murderer = { blackmail_target_with_secret_effect = { SECRET = scope:logrolf_murder_proper_secret TARGET = scope:hk_svartr } }
					scope:logrolf_murderer = { remove_hook = { target = scope:hk_svartr } }
				}
			}
		}
	}
}