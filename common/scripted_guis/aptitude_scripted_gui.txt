# Education
aptitude_education_magical_ability = {
    scope = character
    is_shown = { has_trait = education_magical_ability }
}

# Lifestyle
aptitude_mystic = {
    scope = character
    is_shown = { has_trait = lifestyle_mystic }
}
aptitude_scholar = {
    scope = character
    is_shown = { has_trait = scholar }
}
aptitude_conjurer = {
    scope = character
    is_shown = { has_trait = conjurer }
}
aptitude_soul_magic = {
    scope = character
    is_shown = { has_trait = soul_magic }
}

# Personility
aptitude_lazy = {
    scope = character
    is_shown = { has_trait = lazy }
}
aptitude_diligent = {
    scope = character
    is_shown = { has_trait = diligent }
}
aptitude_patient = {
    scope = character
    is_shown = { has_trait = patient }
}
aptitude_impatient = {
    scope = character
    is_shown = { has_trait = impatient }
}
aptitude_shy = {
    scope = character
    is_shown = { has_trait = shy }
}
aptitude_ambitious = {
    scope = character
    is_shown = { has_trait = ambitious }
}

# Stress
aptitude_drunkard = {
    scope = character
    is_shown = { has_trait = drunkard }
}
aptitude_hashishiyah = {
    scope = character
    is_shown = { has_trait = hashishiyah }
}
aptitude_reclusive = {
    scope = character
    is_shown = { has_trait = reclusive }
}
aptitude_irritable = {
    scope = character
    is_shown = { has_trait = irritable }
}
aptitude_journaller = {
    scope = character
    is_shown = { has_trait = journaller }
}

# Genetic
aptitude_intellect = {
    scope = character
    is_shown = {
        OR = {
            has_trait = intellect_bad
            has_trait = intellect_good
        }
    }
}
aptitude_inbred = {
    scope = character
    is_shown = { has_trait = inbred }
}

# Health
aptitude_infirm = {
    scope = character
    is_shown = { has_trait = infirm }
}
aptitude_incapable = {
    scope = character
    is_shown = { has_trait = incapable }
}
aptitude_lunatic = {
    scope = character
    is_shown = { has_trait = lunatic }
}
aptitude_possessed = {
    scope = character
    is_shown = { has_trait = possessed }
}

# Disease
aptitude_ill = {
    scope = character
    is_shown = { has_trait = ill }
}
aptitude_pneumonic = {
    scope = character
    is_shown = { has_trait = pneumonic }
}
aptitude_great_pox = {
    scope = character
    is_shown = { has_trait = great_pox }
}
aptitude_consumption = {
    scope = character
    is_shown = { has_trait = consumption }
}
aptitude_typhus = {
    scope = character
    is_shown = { has_trait = typhus }
}
aptitude_bubonic_plague = {
    scope = character
    is_shown = { has_trait = bubonic_plague }
}
aptitude_smallpox = {
    scope = character
    is_shown = { has_trait = smallpox }
}

# Physical
aptitude_shrewd = {
    scope = character
    is_shown = { has_trait = shrewd }
}
aptitude_dull = {
    scope = character
    is_shown = { has_trait = dull }
}

# Criminal
aptitude_witch_group = {
    scope = character
    is_shown = { has_trait = witch_group }
}
aptitude_necromancer = {
    scope = character
    is_shown = { has_trait = necromancer }
}

# Other
aptitude_adventurer = {
    scope = character
    is_shown = { has_trait = adventurer }
}

# Patrons & Birthsigns
aptitude_p_magnus = {
    scope = character
    is_shown = { has_trait = p_magnus }
}
aptitude_p_julianos = {
    scope = character
    is_shown = { has_trait = p_julianos }
}
aptitude_p_hermaeus = {
    scope = character
    is_shown = { has_trait = p_hermaeus }
}
aptitude_sign_mage = {
    scope = character
    is_shown = { has_trait = sign_mage }
}
aptitude_sign_apprentice = {
    scope = character
    is_shown = { has_trait = sign_apprentice }
}
aptitude_sign_atronach = {
    scope = character
    is_shown = { has_trait = sign_atronach }
}

magicka_casting_spell = { #observer in hud.gui actually triggers spellbook widget
    scope = character
    is_shown = { has_variable = spell_recipient }
    effect = {
        remove_variable = spell_selected
        remove_variable = spell_recipient
        remove_variable = spell_cast_enabled
    }
}

enable_casting = {
    scope = character
    effect = { set_variable = spell_cast_enabled } #very tempory variable. if it is visible on the character something has gone wrong
}

spell_flames_caster = {
    scope = character

    is_shown = {
        #spell_knows_flames = yes
        always = yes #for testing
    }

    is_valid = {
        has_magicka = { VALUE = spell_cost_flames }
        spell_target_self = yes
        #always = yes #for testing
    }

    effect = {
        spell_caster_effect = { SPELL = flames HOSTILE = yes }
    }
}

spell_flames_recipient = {
    scope = character

    is_shown = {
        var:spell_selected = flag:flames
    }

    effect = {
        spell_castee_effect = { SPELL = flames HOSTILE = yes }
    }
}

spell_frostbite_caster = {
    scope = character

    is_shown = {
        #spell_knows_frostbite = yes
        always = yes #for testing
    }

    is_valid = {
        has_magicka = { VALUE = spell_cost_frostbite }
        spell_target_self = no
        #always = yes #for testing
    }

    effect = {
        spell_caster_effect = { SPELL = frostbite HOSTILE = no }
    }
}

spell_frostbite_recipient = {
    scope = character

    is_shown = {
        var:spell_selected = flag:frostbite
    }

    effect = {
        spell_castee_effect = { SPELL = frostbite HOSTILE = no }
    }
}

spell_sparks_caster = {
    scope = character

    is_shown = {
        #spell_knows_sparks = yes
        always = yes #for testing
    }

    is_valid = {
        has_magicka = { VALUE = spell_cost_sparks }
        #always = yes #for testing
    }

    effect = {
        spell_caster_effect = { SPELL = sparks HOSTILE = no }
    }
}

spell_sparks_recipient = {
    scope = character

    is_shown = {
        var:spell_selected = flag:sparks
    }

    effect = {
        spell_castee_effect = { SPELL = sparks HOSTILE = no }
    }
}