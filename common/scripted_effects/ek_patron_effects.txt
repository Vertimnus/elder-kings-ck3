patron_clear_variables = {
    # Daedra #
    remove_variable = patron_azura_shown
    remove_variable = patron_boethiah_shown
    remove_variable = patron_clavicus_vile_shown
    remove_variable = patron_hermaeus_mora_shown
    remove_variable = patron_hircine_shown
    remove_variable = patron_jyggalag_shown
    remove_variable = patron_malacath_shown
    remove_variable = patron_mehrunes_dagon_shown
    remove_variable = patron_mephala_shown
    remove_variable = patron_meridia_shown
    remove_variable = patron_molag_bal_shown
    remove_variable = patron_namira_shown
    remove_variable = patron_nocturnal_shown
    remove_variable = patron_peryite_shown
    remove_variable = patron_sanguine_shown
    remove_variable = patron_sheogorath_shown
    remove_variable = patron_vaermina_shown

    # Tribunal #
    remove_variable = patron_almalexia_shown
    remove_variable = patron_sotha_sil_shown
    remove_variable = patron_vivec_shown

    # Pantheons #
    remove_variable = patron_divines_shown
    remove_variable = patron_aldmer_shown

    # Tabs # these are here to force close the interaction tab on faith change
    remove_variable = patron_interaction_tab_toggle
    remove_variable = patron_interaction_passive_tab_toggle
}

patron_clear_res_variables = {
    # Daedra #
    remove_variable = patron_azura_shown_res
    remove_variable = patron_boethiah_shown_res
    remove_variable = patron_clavicus_vile_shown_res
    remove_variable = patron_hermaeus_mora_shown_res
    remove_variable = patron_hircine_shown_res
    remove_variable = patron_jyggalag_shown_res
    remove_variable = patron_malacath_shown_res
    remove_variable = patron_mehrunes_dagon_shown_res
    remove_variable = patron_mephala_shown_res
    remove_variable = patron_meridia_shown_res
    remove_variable = patron_molag_bal_shown_res
    remove_variable = patron_namira_shown_res
    remove_variable = patron_nocturnal_shown_res
    remove_variable = patron_peryite_shown_res
    remove_variable = patron_sanguine_shown_res
    remove_variable = patron_sheogorath_shown_res
    remove_variable = patron_vaermina_shown_res

    # Tribunal #
    remove_variable = patron_almalexia_shown_res
    remove_variable = patron_sotha_sil_shown_res
    remove_variable = patron_vivec_shown_res

    # Pantheons #
    remove_variable = patron_divines_shown_res
    remove_variable = patron_aldmer_shown_res

    # Tabs # these are here to force close the interaction tab on faith change
    remove_variable = patron_interaction_tab_toggle_res
    remove_variable = patron_interaction_passive_tab_toggle_res
}

patron_passive_clear_variables = {
    # Divines #
    remove_variable = patron_akatosh_shown
    remove_variable = patron_arkay_shown
    remove_variable = patron_dibella_shown
    remove_variable = patron_julianos_shown
    remove_variable = patron_kynareth_shown
    remove_variable = patron_mara_shown
    remove_variable = patron_stendarr_shown
    remove_variable = patron_talos_shown
    remove_variable = patron_zenithar_shown
    remove_variable = patron_shezarr_shown
    # Aldmer #
    remove_variable = patron_auriel_shown
    remove_variable = patron_jephre_shown
    remove_variable = patron_magnus_shown
    remove_variable = patron_phynaster_shown
    remove_variable = patron_syrabane_shown
    remove_variable = patron_trinimac_shown
    remove_variable = patron_xarxes_shown
    remove_variable = patron_xen_shown
}

patron_clear_traits = {
    remove_trait = p_akatosh
    remove_trait = p_arkay
    remove_trait = p_dibella
    remove_trait = p_julianos
    remove_trait = p_kynareth
    remove_trait = p_mara
    remove_trait = p_stendarr
    remove_trait = p_zenithar
    remove_trait = p_shezarr
    remove_trait = p_auriel
    remove_trait = p_jephre
    remove_trait = p_magnus
    remove_trait = p_phynaster
    remove_trait = p_syrabane
    remove_trait = p_trinimac
    remove_trait = p_xarxes
    remove_trait = p_xen
}

patron_assign_trait = {
    # Divines #
    if = {
        limit = { has_variable = patron_akatosh_shown }
        add_trait = p_akatosh
    }
    else_if = {
        limit = { has_variable = patron_arkay_shown }
        add_trait = p_arkay
    }
    else_if = {
        limit = { has_variable = patron_dibella_shown }
        add_trait = p_dibella
    }
    else_if = {
        limit = { has_variable = patron_julianos_shown }
        add_trait = p_julianos
    }
    else_if = {
        limit = { has_variable = patron_kynareth_shown }
        add_trait = p_kynareth
    }
    else_if = {
        limit = { has_variable = patron_mara_shown }
        add_trait = p_mara
    }
    else_if = {
        limit = { has_variable = patron_stendarr_shown }
        add_trait = p_stendarr
    }
    else_if = {
        limit = { has_variable = patron_zenithar_shown }
        add_trait = p_zenithar
    }
    else_if = {
        limit = { has_variable = patron_shezarr_shown }
        add_trait = p_shezarr
    }
    # Aldmer #
    else_if = {
        limit = { has_variable = patron_auriel_shown }
        add_trait = p_auriel
    }
    else_if = {
        limit = { has_variable = patron_jephre_shown }
        add_trait = p_jephre
    }
    else_if = {
        limit = { has_variable = patron_magnus_shown }
        add_trait = p_magnus
    }
    else_if = {
        limit = { has_variable = patron_phynaster_shown }
        add_trait = p_phynaster
    }
    else_if = {
        limit = { has_variable = patron_syrabane_shown }
        add_trait = p_syrabane
    }
    else_if = {
        limit = { has_variable = patron_trinimac_shown }
        add_trait = p_trinimac
    }
    else_if = {
        limit = { has_variable = patron_xarxes_shown }
        add_trait = p_xarxes
    }
    else_if = {
        limit = { has_variable = patron_xen_shown }
        add_trait = p_xen
    }
    add_character_flag = { flag = recent_patron_selected years = 5 }
}

#this one only clears if the patron is no longer valid so nord cult -> imperial cult keeps akatosh
patron_faith_change_clear_traits = {
    # Divines #
    if = {
        limit = { patron_akatosh_valid = no }
        remove_trait = p_akatosh
    }
    else_if = {
        limit = { patron_arkay_valid = no }
        remove_trait = p_arkay
    }
    else_if = {
        limit = { patron_dibella_valid = no }
        remove_trait = p_dibella
    }
    else_if = {
        limit = { patron_julianos_valid = no }
        remove_trait = p_julianos
    }
    else_if = {
        limit = { patron_kynareth_valid = no }
        remove_trait = p_kynareth
    }
    else_if = {
        limit = { patron_mara_valid = no }
        remove_trait = p_mara
    }
    else_if = {
        limit = { patron_stendarr_valid = no }
        remove_trait = p_stendarr
    }
    else_if = {
        limit = { patron_zenithar_valid = no }
        remove_trait = p_zenithar
    }
    else_if = {
        limit = { patron_shezarr_valid = no }
        remove_trait = p_shezarr
    }
    # Aldmer #
    else_if = {
        limit = { patron_auriel_valid = no }
        remove_trait = p_auriel
    }
    else_if = {
        limit = { patron_jephre_valid = no }
        remove_trait = p_jephre
    }
    else_if = {
        limit = { patron_magnus_valid = no }
        remove_trait = p_magnus
    }
    else_if = {
        limit = { patron_phynaster_valid = no }
        remove_trait = p_phynaster
    }
    else_if = {
        limit = { patron_syrabane_valid = no }
        remove_trait = p_syrabane
    }
    else_if = {
        limit = { patron_trinimac_valid = no }
        remove_trait = p_trinimac
    }
    else_if = {
        limit = { patron_xarxes_valid = no }
        remove_trait = p_xarxes
    }
    else_if = {
        limit = { patron_xen_valid = no }
        remove_trait = p_xen
    }
    add_character_flag = { flag = recent_patron_selected years = 5 }
}

patron_faith_change_effect = {
    patron_clear_variables = yes
    patron_clear_res_variables = yes
    patron_passive_clear_variables = yes
    patron_faith_change_clear_traits = yes
}